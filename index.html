<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Slider</title>
	<script class="data">
		window.dogs = [
			{
				img: "assets/img/doberman.jpg",
				content: {
					title: "Doberman Pinscer",
					content: ";lkasjdfasdfajklj;aslkdfas;dlkfja"
				}
			},
			{
				img: "assets/img/husky.jpg",
				content: {
					title: "Siberian Husky",
					content: ";lkasjdfasdfajklj;aslkdfas;dlkfja"
				}
			},
			{
				img: "assets/img/pitbull.jpg",
				content: {
					title: "American Pit Bull Terrier",
					content: ";lkasjdfasdfajklj;aslkdfas;dlkfja"
				}
			},
		]
		window.cats = [
			{
				img: "assets/img/siamese.jpg",
				content: {
					title: "Siamese",
					content: ";lkasjdfasdfajklj;aslkdfas;dlkfja"
				}
			},
			{
				img: "assets/img/bengal.jpg",
				content: {
					title: "Bengal",
					content: ";lkasjdfasdfajklj;aslkdfas;dlkfja"
				}
			}
		]
	</script>
	<style class="optional-styles">
		@import "https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css";
		.slider-js{
			width: 50%;
			height: 200px;
		}
	</style>
	<script>












		function render(slider){
			slider.html.style = "position: relative; overflow: hidden;";
			slider.html.appendChild(makeFeed(slider));
			function makeFeed(slider){
				let feed = Object.assign(
					document.createElement("div"),
					{
						classList: ["feed"],
						style: `display: flex; height: 100%; transition: ${slider.transition + "ms"}; flex-direction: ${slider.direction == "Y" ? "column" : "row"}`
					}
				)
				slider.data.forEach(function(obj){
					feed.appendChild(makeSlides(slider, obj));
				})
				return feed;
			}
			function makeSlides(slider, obj){
				let slide = Object.assign(
					document.createElement("div"),
					{
						style: `${slider.direction == "Y" ? "min-height": "min-width"}: 100%; position: relative;`
					}
				)
				slide.appendChild(Object.assign(
					document.createElement("img"),
					{
						src: obj.img,
						style: "object-fit: cover; width: 100%; height: 100%; position: absolute"
					}
				));
				slide.appendChild(Object.assign(
					document.createElement("div"),
					{
						style: "width: 100%; position: absolute; bottom: 0",
						innerHTML: [obj.content.title, obj.content.content].join("</br>")
					}
				));
				return slide;
			}
		}
		function move(slider){
			slider.html.querySelector("*:first-child").style.transform = `translate${slider.direction}(-${(slider.direction == "Y" ? slider.html.clientHeight : slider.html.clientWidth) * slider.offset}px)`;
		// if you haven't reached the end yet....
			slider.offset++;
		}
		window.addEventListener("load", function(){
			document.querySelectorAll(".slider-js").forEach(function(elem){
				let slider = {
					html: elem,
					data: window[elem.attributes.data.value],
					direction: setDefault("direction", "X"),
					offset: parseInt(setDefault("offset", "1")),
					transition: setDefault("transition", "0")
				}
				function setDefault(name, def){
					return elem.attributes.hasOwnProperty(name) ? elem.attributes[name].value : def
				}
				render(slider);
				setInterval(function(){move(slider);}, 2000)
			});
		});
	</script>
</head>
<body>
	<div class="slider-js" data="dogs" direction="Y" transition="300"></div>
	<div class="slider-js" data="cats" offset="1" transition="200"></div>
</body>
</html>