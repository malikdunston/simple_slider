"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");const t=({direction:e,move:t})=>React.createElement("svg",{className:"next"===e?"next":"prev",viewBox:"0 0 100 100",style:{width:"2rem",height:"2rem"},onClick:t},React.createElement("polyline",{points:"next"===e?"0 100 50 50 0 0":"100 0 50 50 100 100",style:{pointerEvents:"none"}})),i=({move:e,data:t,config:i})=>React.createElement("div",{className:"select",style:{position:"absolute",display:"flex"}},t.map(((t,n)=>React.createElement("div",{key:n+1,onClick:t=>{e(n)},className:i.index===(i.xScroll?n:n+1)?"selection selected":"selection "},i.xScroll?React.createElement("img",{src:t.acf.cover,alt:""}):n+1)))),n=({move:e,data:n,config:a})=>React.createElement("div",{className:"slider-controls",style:{fill:"none",stroke:"white",strokeMiterlimit:"10",strokeWidth:"10px",position:"absolute",zIndex:"500",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement(t,{move:()=>{e("prev")},direction:"prev"}),React.createElement(t,{move:()=>{e("next")},direction:"next"}),React.createElement(i,{move:e,data:n,config:a}));function a({slide:e}){return React.createElement("div",{className:"slide",style:{position:"relative",["Y"===e.axis?"minHeight":"minWidth"]:"100%"}},e.template)}const s=({slides:e,config:t})=>React.createElement("div",{className:"slider-feed",style:{display:"flex",height:"100%",flexDirection:"X"===t.axis?"row":"column",transform:`translate${t.axis}(${-("X"===t.axis?t.clientWidth:t.clientHeight)*t.index}px)`,transition:"next"===t.direction&&t.index<=1||"prev"===t.direction&&t.index>=e.length-2?"none":t.transition+"ms"}},e.map(((e,i)=>React.createElement(a,{key:i,slide:{...e,index:i,axis:t.axis,template:t.template(e,i)}})))),l=({cards:e,config:t})=>React.createElement("div",{className:"slider-x-scroll",style:{display:"flex",height:"100%",flexDirection:"X"===t.axis?"row":"column",transform:t.transform?t.transform:`translate${t.axis}(${-("X"===t.axis?t.clientWidth:t.clientHeight)*t.index}px)`,transition:t.transition+"ms"}},e.map(((e,i)=>React.createElement(Card,{key:i,card:{...e,index:i,axis:t.axis,cardSize:t.cardSize,template:t.template(e,i)},currentIndex:t.index}))));exports.Slider=t=>{const i=e.useRef(null),[a,r]=e.useState({axis:t.axis?t.axis:"X",transition:t.transition?t.transition:400,controls:!!t.controls&&t.controls,index:t.cards?0:1,xScroll:!!t.cards,cardSize:t.cardSize?t.cardSize+"%":"100%",transform:null,template:t.template?t.template:e=>React.createElement("div",null," Slide: ",e)}),c=()=>{r((e=>({...e,clientWidth:i.current.clientWidth,clientHeight:i.current.clientHeight})))};return e.useEffect((()=>{c(),window.addEventListener("resize",c)}),[]),React.createElement("div",{className:"slider-js",ref:i,style:{position:"relative",overflow:"hidden"}},a.controls?React.createElement(n,{move:e=>{if(t.cards){function i(e,i){let n="X"===e.axis?e.clientWidth:e.clientHeight;n/=100/t.cardSize;let a=n*-i;return console.log(i,a),`translate${e.axis}(${a}px)`}"next"===e&&a.index<t.cards.length-1?r((t=>({...t,direction:e,transform:i(t,t.index+1),index:t.index+1}))):"prev"===e&&a.index>0?r((t=>({...t,direction:e,transform:i(t,t.index-1),index:t.index-1}))):"number"==typeof e&&r((t=>({...t,direction:void 0,transform:i(t,e),index:e})))}else t.slides&&r((i=>"next"===e?{...i,direction:e,index:i.index>=t.slides.length+1?1:i.index+1}:"prev"===e?{...i,direction:e,index:i.index<=0?t.slides.length:i.index-1}:"number"==typeof e?{...i,direction:void 0,index:e+1}:void 0))},data:t.cards?t.cards:t.slides,config:a}):"",t.cards?React.createElement(l,{config:a,cards:t.cards}):"",t.slides?React.createElement(s,{config:a,slides:[t.slides[t.slides.length-1],...t.slides,t.slides[0]]}):"")};
